<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API</title>
</head>
<body>
    <h1>Json</h1>
    <h1>JavaScript Object Notation</h1>

    <ul id="user-Container"></ul>

  <input id="title" type="text" placeholder="title">
  <br>
  <input id= "bodyContent" type="text" placeholder="post er main jinish">
  <button id="submit"> Submit </button>

<script>
const user = {
    id: 20201023101,
    name: "S.Sirzil Shanon",
    lover: {
        name: 'Esha', 
        favFood: "pizza" 
    } ,
    
    friendsAge: [12, 14, 15, 18, 42],
    friends: ['kamal', 'Jamal', 'samal']
    };
const userJson = JSON.stringify(user);
console.log(userJson);

const userFromJson = JSON.parse(userJson);
console.log(userFromJson);

        const postInfo = {
            title: 'foooooooo',
            body: 'barrrrrrr',
            userId: 1,
        }
        document.getElementById("submit").addEventListener("click", function(){
            const title = document.getElementById("title").value;
            const bodyContent = document.getElementById("bodyContent").value;
            const post = { title: title, body: bodyContent};
            nowPostToServer(post);
        })
        function nowPostToServer(postInfo){

            
            fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                body: JSON.stringify(postInfo),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
            .then((response) => response.json())
            .then((data) => console.log(data));

        }
            
    function displayUser(users){
        const userNames = users.map(user => user.username);
        const ul = document.getElementById("user-Container");

        for(let i = 0; i < userNames.length; i++){
            const username= userNames[i];
            const li = document.createElement("li");
            li.innerText = username;
            ul.appendChild(li);
        }
    }
</script>
</body>
</html>